<table id='gameboard'>
	<% if @game %>
		<% if current_player.id != @game.white_player_id %>
			<!-- show board from black player perspective -->
			<% (0..7).each do |row| %>
				<tr class='y-position-<%= row %>' >
					<% 7.downto(0).each do |column| %>
						<% query_result = @pieces.select { |p| p["x_position"] == column && p["y_position"] == row }.first %>
						<td class='x-position-<%= column %>' data-x-position='<%= column %>' data-y-position='<%= row %>' data-piece-id='<%= piece_id(query_result) %>'>
							<% if query_result != nil %>
								<%= image_tag query_result.symbol %>
							<% end %>
						</td>
					<% end %>
				</tr>
		 	<% end %>
		<% else %>
			<!-- show board from white player perspective -->
			<% 7.downto(0) do |row| %>
				<tr class='y-position-<%= row %>' >
					<% (0..7).each do |column| %>
						<% query_result = @game.pieces.where(x_position:column, y_position: row).last %>
						<td class='x-position-<%= column %>' data-x-position='<%= column %>' data-y-position='<%= row %>' data-piece-id='<%= piece_id(query_result) %>'>
							<% if query_result != nil %>
								<%= image_tag query_result.symbol %>
							<% end %>
						</td>
					<% end %>
				</tr>
		 	<% end %>
		<% end %>
	<% end %>
</table>

